<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8-PROJECT-ROCKPAPERSCISSORS</title>
</head>

<body>
    <h1>8-PROJECT-ROCKPAPERSCISSORS</h1>
    <p>Rock Paper Scissors</p>
    <button onclick=" 
        playGame('Rock');
    ">Rock</button>
    <button onclick=" 
        playGame('Paper');
    ">Paper</button>
    <button onclick=" 
        playGame('Scissors');
    ">Scissors</button>
    <button onclick=" 
        score.wins = 0;
        score.losses = 0;
        score.ties = 0;
        localStorage.removeItem('score');
    ">Reset Score</button>
</body>
<script>
    // const score = {
    //     wins : 0,
    //     losses : 0,
    //     ties : 0
    // };
    let score = JSON.parse(localStorage.getItem('score'))
    || {              
        wins : 0,
        losses : 0,
        ties : 0
        };


    // if(!score){                 // same AS score === null
    //     score = {               // another shortcut above
    //          wins : 0,
    //          losses : 0,
    //          ties : 0
    //     }
    // }


    
    function playGame(player){
        const computer = pickComputerMove();
        let result = '';
        if (player === 'Scissors'){
        if(computer === 'Rock'){
            result = 'Lose';
            score.losses += 1;
        }
        else if(computer === 'Paper'){
            result = 'Win';
            score.wins += 1;
        }
        else if(computer === 'Scissors'){
            result = 'Tie';
            score.ties += 1;
        }
    }

        if (player === 'Rock'){
        if(computer === 'Rock'){
            result = 'Tie';
            score.ties += 1;
        }
        else if(computer === 'Paper'){
            result = 'lOSE';
            score.losses += 1;
        }
        else if(computer === 'Scissors'){
            result = 'WIN';
            score.wins += 1;
        }
    }
        if (player === 'Paper'){
        if(computer === 'Rock'){
            result = 'win';
            score.wins += 1;
        }
        else if(computer === 'Paper'){
            result = 'tie';
            score.ties += 1;
        }
        else if(computer === 'Scissors'){
            result = 'lose';
            score.losses += 1;
        }
    }

    localStorage.setItem('score',JSON.stringify(score));

    alert(`You picked ${player} computer picked ${computer} so result is ${result} \nloss : ${score.losses} win : ${score.wins} ties : ${score.ties}`);
    }
    function pickComputerMove(){
        const randomNumber = (Math.random());
        let computer = '';
        
        if(randomNumber >= 0 && randomNumber < 1/3){
            computer = 'Rock';
        }
        else if(randomNumber >= 1/3 && randomNumber < 2/3){
            computer = 'Paper';
        }
        else{
            computer = 'Scissors';
        }
        
        return computer;
    }
</script>

</html>